<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
  <title>send data to firebase</title>
</head>

<body class="flex justify-center items-center min-h-screen bg-gray-100">

<div class="w-full flex justify-center">
  <table class="border-collapse border border-blue-400">
    <thead>
      <tr>
        <th class="p-2 border border-blue-400">ID</th>
        <th class="p-2 border border-blue-400">Name</th>
        <th class="p-2 border border-blue-400">Age</th>
        <th class="p-2 border border-blue-400">Phone</th>
        <th class="p-2 border border-blue-400">Location</th>
      </tr>
    </thead>
    <tbody id="tableData">

    </tbody>
  </table>
</div>


<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
  import { getDatabase, onValue, ref ,remove,update ,child} from "https://www.gstatic.com/firebasejs/12.6.0/firebase-database.js";

  const firebaseConfig = {
    apiKey: "AIzaSyCZ774I4-U7CnvJ0R43zJifEfE5sGM48lY",
    authDomain: "halawani-7126f.firebaseapp.com",
    databaseURL: "https://halawani-7126f-default-rtdb.firebaseio.com",
    projectId: "halawani-7126f",
    storageBucket: "halawani-7126f.firebasestorage.app",
    messagingSenderId: "1065152267257",
    appId: "1:1065152267257:web:4fa60ac5fc9bd180927328"
  };

  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);

const studentsRef = ref(db, "studant"); // example folder name

// get data from firebase and display in table
onValue(studentsRef, (snapshot) => {
  const data = snapshot.val();
  const tbody = document.getElementById("tableData");

  tbody.innerHTML = ""; // clear table before adding new rows

  for (let id in data) {
    const s = data[id];

    tbody.innerHTML += `
      <tr class="border-b hover:bg-gray-100">
        <td class="p-2 border-r">${s.id}</td>
        <td class="p-2 border-r">${s.name}</td>
        <td class="p-2 border-r">${s.age}</td>
        <td class="p-2 border-r">${s.location}</td>
        <td class="p-2">${s.phone}</td>
      </tr>
    `;
  }
});
</script>

</body>
</html>
