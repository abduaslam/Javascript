<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Character encoding -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="This is my first webpage created using HTML.">
  <meta name="keywords" content="HTML, web development, coding, tutorial">
  <meta name="author" content="Anil">
 <script src="https://cdn.tailwindcss.com"></script>

  <title>send data to firebase</title>

</head>
<body class="flex flex-col justify-center items-center h-screen bg-gray-100 font-light">

  <h1>Welcome to My Website</h1>
<div class="bg-blue-500 grid grid-cols-3 w-1/3 m-3 rounded-lg text-center pb-5 text-center" >
    <label for="">Studant Id :</label>
    <input type="text" id="Id" placeholder="user Id" class="m-2 p-2 rounded-2xl w-70 "><br>
    <label for="">Studant Name :</label>
    <input type="text" id="name" placeholder="user name" class="m-2 p-2 rounded-2xl w-70 "><br>
    <label for="">studan age :</label>
    <input type="number" id="age" placeholder="your age" class="m-2 p-2 rounded-2xl w-70 "><br>
    <label for="">studan Phone</label>
    <input type="number" id="phone" placeholder="your phone number" class="m-2 p-2 rounded-2xl w-70 "> <br>
    <label for="">Location</label>
    <input type="text" id="Location" placeholder="your Location" class="m-2 p-2 rounded-2xl w-70 "><br>
    <button id="subBtn" class="bg-slate-400 hover:bg-gray-700 rounded-xl p-2 w-35">SUBMIT</button>
</div>

<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
  import{getDatabase,onValue,set,get,ref } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-database.js"

  // Your web app's Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyCZ774I4-U7CnvJ0R43zJifEfE5sGM48lY",
    authDomain: "halawani-7126f.firebaseapp.com",
    databaseURL: "https://halawani-7126f-default-rtdb.firebaseio.com",
    projectId: "halawani-7126f",
    storageBucket: "halawani-7126f.firebasestorage.app",
    messagingSenderId: "1065152267257",
    appId: "1:1065152267257:web:4fa60ac5fc9bd180927328"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const db=getDatabase(app)

  //git element from html file using Ids
  
  let subBtn=document.getElementById("subBtn")

  function clearField(){
    
      let Sid=document.getElementById("Id").innerHTML=""
  let Sname=document.getElementById("name").innerHTML=""
  let Sage=document.getElementById("age").innerHTML=""
  let Sphone=document.getElementById("phone").innerHTML=""
  let Slocation=document.getElementById("Location").innerHTML=""
  }
  // send data to firebase
  function sendData(){
    let Sid=document.getElementById("Id").value
  let Sname=document.getElementById("name").value
  let Sage=document.getElementById("age").value
  let Sphone=document.getElementById("phone").value
  let Slocation=document.getElementById("Location").value
  const sendRef=ref(db,"studant/" +Sid)
  set(sendRef,{
id:Sid,
name:Sname,
age:Sage,
phone:Sphone,
location:Slocation

  }).then(()=>{
    alert("the data added",clearField())
  }).catch((error)=>{
    alert("the error is"+error)
  })
}
subBtn.addEventListener("click",sendData)

</script>
</body>
</html>
